# 🧪 系统测试指南

**版本**: 1.0  
**更新时间**: 2025-11-27

---

## 📋 测试准备

### 1. 确认服务运行

在开始测试前，请确保以下服务正常运行：

```bash
# 检查后端服务
curl http://localhost:3001/health

# 检查后台管理
# 浏览器访问: http://localhost:3006

# 检查前端网站
# 浏览器访问: http://localhost:8080
```

**预期结果**:
- ✅ 后端服务返回健康状态
- ✅ 后台管理页面正常显示
- ✅ 前端网站页面正常显示

---

### 2. 准备测试数据

**创建测试用户**:
```bash
cd backend
node migrations/seed-users.js
```

**测试账号**:
- 管理员: `admin` / `admin123`
- 测试用户: `test` / `test123`

---

## 🚀 快速测试

### 方法一: 使用测试工具（推荐）

1. **打开测试工具**:
   ```
   浏览器访问: file:///C:/Users/13350/Desktop/oai%2008/test-runner.html
   ```

2. **运行测试**:
   - 点击"运行全部测试"按钮
   - 等待测试完成
   - 查看测试结果

3. **查看报告**:
   - 查看通过/失败统计
   - 查看详细日志
   - 记录问题

---

### 方法二: 手动测试

#### 1. 后台管理测试

**步骤**:
```
1. 访问 http://localhost:3006
2. 输入用户名: admin
3. 输入密码: admin123
4. 点击登录
5. 进入产品管理
6. 点击"新增产品"
7. 填写产品信息
8. 保存产品
```

**预期结果**:
- ✅ 登录成功
- ✅ 产品创建成功
- ✅ 产品列表显示新产品

---

#### 2. 前端展示测试

**步骤**:
```
1. 访问 http://localhost:8080/pages/products.html
2. 等待页面加载
3. 查看产品列表
4. 点击产品卡片
5. 查看产品详情
```

**预期结果**:
- ✅ 产品列表自动加载
- ✅ 显示刚创建的产品
- ✅ 产品详情正确显示

---

#### 3. 订购功能测试

**步骤**:
```
1. 在产品详情页点击"立即订购"
   或访问 http://localhost:8080/pages/order.html?id=1
2. 填写联系信息
   - 姓名: 测试用户
   - 手机: 13800138000
   - 邮箱: test@example.com
3. 选择收货地址
   - 省份: 广东省
   - 城市: 深圳市
   - 区县: 南山区
   - 详细地址: 测试地址123号
4. 勾选协议
5. 点击"提交订单"
```

**预期结果**:
- ✅ 表单验证正常
- ✅ 省市区联动正常
- ✅ 订单提交成功
- ✅ 显示订单号

---

#### 4. 订单管理测试

**步骤**:
```
1. 返回后台管理系统
2. 进入订单管理
3. 查看订单列表
4. 点击刚创建的订单
5. 查看订单详情
```

**预期结果**:
- ✅ 订单列表显示新订单
- ✅ 订单信息完整
- ✅ 客户信息正确
- ✅ 产品信息正确

---

## 📊 测试用例清单

### API接口测试

| 编号 | 测试项 | 接口 | 方法 | 状态 |
|------|--------|------|------|------|
| TC-001 | 获取产品列表 | /api/products | GET | ⏳ |
| TC-002 | 获取产品详情 | /api/products/:id | GET | ⏳ |
| TC-003 | 创建产品 | /api/products | POST | ⏳ |
| TC-004 | 更新产品 | /api/products/:id | PUT | ⏳ |
| TC-005 | 删除产品 | /api/products/:id | DELETE | ⏳ |
| TC-006 | 获取分类列表 | /api/product-categories | GET | ⏳ |
| TC-007 | 创建订单 | /api/orders | POST | ⏳ |
| TC-008 | 获取订单列表 | /api/orders | GET | ⏳ |
| TC-009 | 获取订单详情 | /api/orders/:id | GET | ⏳ |
| TC-010 | 用户登录 | /api/auth/login | POST | ⏳ |

---

### 功能测试

| 编号 | 测试项 | 页面 | 状态 |
|------|--------|------|------|
| TC-011 | 后台登录 | /login | ⏳ |
| TC-012 | 产品列表 | /product/list | ⏳ |
| TC-013 | 产品创建 | /product/create | ⏳ |
| TC-014 | 产品编辑 | /product/edit | ⏳ |
| TC-015 | 订单列表 | /order/list | ⏳ |
| TC-016 | 订单详情 | /order/detail | ⏳ |
| TC-017 | 前端产品中心 | /pages/products.html | ⏳ |
| TC-018 | 前端产品详情 | /pages/product-detail.html | ⏳ |
| TC-019 | 前端订购页面 | /pages/order.html | ⏳ |
| TC-020 | 表单验证 | - | ⏳ |

---

## 🐛 问题记录模板

### 问题报告格式

```markdown
**问题编号**: BUG-001
**发现时间**: 2025-11-27
**严重程度**: 高/中/低
**测试用例**: TC-XXX

**问题描述**:
详细描述问题...

**复现步骤**:
1. 步骤1
2. 步骤2
3. 步骤3

**预期结果**:
应该...

**实际结果**:
实际...

**截图/日志**:
附加截图或日志...

**环境信息**:
- 浏览器: Chrome 120
- 操作系统: Windows 11
- 服务版本: v1.0

**建议解决方案**:
可能的解决方案...
```

---

## 📈 测试报告模板

### 测试总结

```markdown
## 测试总结

**测试日期**: 2025-11-27
**测试人员**: XXX
**测试范围**: 全功能测试

### 测试统计

- **总测试用例**: 30
- **通过**: XX
- **失败**: XX
- **阻塞**: XX
- **跳过**: XX
- **成功率**: XX%

### 测试结果

#### API接口测试
- ✅ 产品管理接口: 5/5 通过
- ✅ 订单管理接口: 4/4 通过
- ✅ 用户认证接口: 1/1 通过

#### 功能测试
- ✅ 后台管理: 6/6 通过
- ✅ 前端展示: 3/3 通过
- ⚠️  订购功能: 2/3 通过 (1个问题)

### 发现的问题

1. **BUG-001**: [高] 问题描述...
2. **BUG-002**: [中] 问题描述...
3. **BUG-003**: [低] 问题描述...

### 测试结论

- 核心功能正常
- 发现X个问题，需要修复
- 建议进行回归测试

### 下一步行动

1. 修复发现的问题
2. 进行回归测试
3. 性能测试
4. 发布准备
```

---

## 💡 测试技巧

### 1. 使用浏览器开发工具

**打开方式**: F12 或 右键 → 检查

**常用功能**:
- **Console**: 查看日志和错误
- **Network**: 查看API请求
- **Application**: 查看存储数据
- **Performance**: 性能分析

---

### 2. 测试数据准备

**创建测试产品**:
```javascript
// 在浏览器控制台执行
const testProduct = {
    name: '测试产品',
    model: 'TEST-001',
    price: 999.00,
    categoryId: 1,
    status: 'active'
};

await fetch('http://localhost:3001/api/products', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(testProduct)
});
```

---

### 3. 快速验证API

**使用curl**:
```bash
# 获取产品列表
curl http://localhost:3001/api/products

# 获取产品详情
curl http://localhost:3001/api/products/1

# 创建订单
curl -X POST http://localhost:3001/api/orders \
  -H "Content-Type: application/json" \
  -d '{"productId":1,"customerName":"测试","customerPhone":"13800138000"}'
```

---

### 4. 自动化测试脚本

**在浏览器控制台运行**:
```javascript
// 测试产品列表
async function testAPI() {
    const response = await fetch('http://localhost:3001/api/products');
    const data = await response.json();
    console.log('产品数量:', data.data.items?.length || 0);
    return data;
}

testAPI();
```

---

## 🎯 测试检查清单

### 测试前检查
- [ ] 所有服务已启动
- [ ] 测试数据已准备
- [ ] 测试环境已配置
- [ ] 测试工具已就绪

### API测试
- [ ] 产品管理接口
- [ ] 订单管理接口
- [ ] 用户认证接口
- [ ] 分类管理接口
- [ ] 错误处理

### 功能测试
- [ ] 后台登录
- [ ] 产品管理
- [ ] 订单管理
- [ ] 前端展示
- [ ] 订购功能

### 集成测试
- [ ] 端到端流程
- [ ] 数据一致性
- [ ] 并发测试

### 测试后检查
- [ ] 测试结果已记录
- [ ] 问题已报告
- [ ] 测试报告已生成
- [ ] 下一步计划已制定

---

## 📞 技术支持

### 常见问题

**Q1: 服务无法启动？**
A: 检查端口是否被占用，检查配置文件

**Q2: API请求失败？**
A: 检查CORS配置，检查API地址

**Q3: 数据不显示？**
A: 检查数据库连接，检查API返回

**Q4: 订单提交失败？**
A: 检查表单验证，检查API接口

---

## 📚 相关文档

1. [全面测试报告-2025-11-27.md](./全面测试报告-2025-11-27.md)
2. [开发完成总结报告-2025-11-27.md](./开发完成总结报告-2025-11-27.md)
3. [快速测试指南.md](./快速测试指南.md)

---

**测试愉快！** 🎉

如有问题，请查看文档或联系技术支持。
