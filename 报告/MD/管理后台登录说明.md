# 管理后台登录说明

## 🔐 登录信息

### 默认管理员账号
- **用户名**: `admin`
- **密码**: `admin123`

## 🚀 启动步骤

### 1. 启动后端服务
```bash
cd backend
npm run dev
```
后端将运行在: http://localhost:3000

### 2. 启动管理后台
```bash
cd admin
pnpm run dev
```
管理后台将运行在: http://localhost:3006

### 3. 登录管理后台
1. 访问 http://localhost:3006
2. 输入用户名: `admin`
3. 输入密码: `admin123`
4. 点击登录

## 📝 已实现的API接口

### 认证接口
- `POST /api/auth/login` - 用户登录
- `POST /api/auth/logout` - 退出登录
- `POST /api/auth/register` - 用户注册（暂未开放）

### 用户接口
- `GET /api/user/info` - 获取当前用户信息
- `GET /api/user/list` - 获取用户列表
- `PUT /api/user/:id` - 更新用户信息
- `DELETE /api/user/:id` - 删除用户

### 产品接口
- `GET /api/products` - 获取产品列表
- `GET /api/products/:id` - 获取产品详情
- `POST /api/products` - 创建产品
- `PUT /api/products/:id` - 更新产品
- `DELETE /api/products/:id` - 删除产品

### 订阅接口
- `GET /api/admin/subscriptions` - 获取订阅列表
- `POST /api/admin/subscriptions` - 创建订阅
- `PATCH /api/admin/subscriptions/:id` - 更新订阅状态
- `DELETE /api/admin/subscriptions/:id` - 删除订阅

## 🔧 问题解决

### 问题1：登录提示"请求的资源不存在"
**原因**: 后端缺少登录接口

**解决方案**: 
1. 确保后端已更新（包含auth和user路由）
2. 重启后端服务
3. 清除浏览器缓存后重新登录

### 问题2：登录后无法获取用户信息
**原因**: JWT token验证失败

**解决方案**:
1. 检查`.env`文件中的`JWT_SECRET`配置
2. 确保前后端的API地址配置正确
3. 检查浏览器控制台的错误信息

### 问题3：CORS跨域错误
**原因**: 后端CORS配置不包含管理后台地址

**解决方案**:
在`backend/.env`中添加管理后台地址：
```env
CORS_ORIGIN=http://localhost:3006,http://localhost:3007,http://localhost:8080
```

## 📊 管理后台功能

### 当前可用功能
- ✅ 用户登录/登出
- ✅ 订阅管理（查看、添加、删除）
- ✅ 产品管理（查看、添加、编辑、删除）
- ✅ 产品分类管理
- ✅ 数据统计

### 待完善功能
- ⏳ 用户管理系统
- ⏳ 权限管理
- ⏳ 内容管理（新闻、公司介绍等）
- ⏳ 数据导出
- ⏳ 系统设置

## 🔒 安全说明

### 当前实现
- 使用JWT进行身份验证
- Token有效期：7天
- 密码明文比对（临时方案）

### 生产环境建议
1. **密码加密**: 使用bcrypt加密存储密码
2. **数据库用户表**: 创建users表存储用户信息
3. **权限系统**: 实现基于角色的权限控制（RBAC）
4. **Token刷新**: 实现refresh token机制
5. **登录日志**: 记录登录行为和异常
6. **密码策略**: 强制密码复杂度要求
7. **会话管理**: 实现token黑名单机制

## 📝 API文档

访问 http://localhost:3000/api-docs 查看完整的API文档

## 🆘 需要帮助？

如果遇到问题：
1. 查看后端日志：`backend/logs/combined.log`
2. 查看浏览器控制台错误
3. 检查网络请求（F12 -> Network）
4. 参考项目文档

---

**最后更新**: 2025-11-19  
**版本**: v1.0
