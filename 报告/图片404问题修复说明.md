# 图片404问题修复说明

## 问题描述
前端网站产品目录页面出现大量 `default-product.png` 404错误，导致页面性能下降。

## 问题原因
产品数据中缺少图片路径，或者图片路径指向不存在的默认图片。

## 解决方案

### 方案1: 创建默认产品图片（推荐）

在以下路径创建默认产品图片：
```
web Site/web PC/assets/images/product center/default-product.png
```

**快速创建方法**：
1. 使用任何图片编辑工具创建一个 400x400 的图片
2. 添加文字 "暂无图片" 或 "产品图片"
3. 保存为 `default-product.png`

**或者使用在线工具**：
- 访问 https://placeholder.com/
- 生成 400x400 的占位图
- 下载并重命名为 `default-product.png`

### 方案2: 修改前端代码，使用在线占位图

修改产品目录页面的图片加载逻辑：

```javascript
// 在 product-catalog.html 或相关 JS 文件中
function getProductImage(product) {
  // 如果产品有图片，使用产品图片
  if (product.cardImage && product.cardImage.trim() !== '') {
    return product.cardImage;
  }
  
  // 否则使用在线占位图服务
  return 'https://via.placeholder.com/400x400/CCCCCC/666666?text=暂无图片';
}
```

### 方案3: 在后端返回数据时处理

修改后端API，确保每个产品都有有效的图片路径：

```javascript
// backend/src/services/productService.js
async getProductList(options) {
  // ... 查询产品
  
  // 处理图片路径
  const products = items.map(product => {
    if (!product.cardImage || product.cardImage.trim() === '') {
      // 设置默认图片路径
      product.cardImage = '/assets/images/product center/default-product.png';
    }
    return product;
  });
  
  return { items: products, total };
}
```

## 临时解决方案

如果你暂时无法创建图片，可以修改前端代码，隐藏404错误：

```javascript
// 在图片加载失败时使用CSS隐藏或显示占位符
document.querySelectorAll('.product-image').forEach(img => {
  img.onerror = function() {
    // 方法1: 隐藏图片
    this.style.display = 'none';
    
    // 方法2: 显示占位文字
    const placeholder = document.createElement('div');
    placeholder.className = 'image-placeholder';
    placeholder.textContent = '暂无图片';
    this.parentElement.appendChild(placeholder);
    this.remove();
  };
});
```

添加CSS样式：
```css
.image-placeholder {
  width: 100%;
  height: 200px;
  background: #f0f0f0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #999;
  font-size: 14px;
  border-radius: 8px;
}
```

## 推荐实施步骤

1. **立即修复**：使用方案2，修改前端代码使用在线占位图
2. **长期方案**：创建美观的默认产品图片（方案1）
3. **优化**：在后端统一处理图片路径（方案3）

## 测试验证

修复后，检查浏览器控制台：
- ✅ 不再出现 `default-product.png 404` 错误
- ✅ 产品列表正常显示
- ✅ 页面加载速度提升

---

**注意**：这个问题不会导致"产品筛选一直在加载"，如果后台管理系统有加载问题，那是另一个问题，需要单独排查。
