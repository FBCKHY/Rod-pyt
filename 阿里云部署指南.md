# ğŸš€ é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—

**é¡¹ç›®**: å®¹ç”µç§‘æŠ€äº§å“å±•ç¤ºç³»ç»Ÿ
**éƒ¨ç½²æ—¶é—´**: 2025-11-28
**æœåŠ¡å™¨**: é˜¿é‡Œäº‘ECS

---

## ğŸ“‹ ç›®å½•

1. [æœåŠ¡å™¨è¦æ±‚](#æœåŠ¡å™¨è¦æ±‚)
2. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
3. [æ•°æ®åº“é…ç½®](#æ•°æ®åº“é…ç½®)
4. [åç«¯éƒ¨ç½²](#åç«¯éƒ¨ç½²)
5. [å‰ç«¯éƒ¨ç½²](#å‰ç«¯éƒ¨ç½²)
6. [Nginxé…ç½®](#nginxé…ç½®)
7. [åŸŸåé…ç½®](#åŸŸåé…ç½®)
8. [SSLè¯ä¹¦](#sslè¯ä¹¦)
9. [è¿›ç¨‹ç®¡ç†](#è¿›ç¨‹ç®¡ç†)
10. [ç›‘æ§å’Œæ—¥å¿—](#ç›‘æ§å’Œæ—¥å¿—)

---

## ğŸ–¥ï¸ æœåŠ¡å™¨è¦æ±‚

### æœ€ä½é…ç½®
- **CPU**: 2æ ¸
- **å†…å­˜**: 4GB
- **ç¡¬ç›˜**: 40GB SSD
- **å¸¦å®½**: 5Mbps
- **ç³»ç»Ÿ**: Ubuntu 20.04 LTS / CentOS 7+

### æ¨èé…ç½®
- **CPU**: 4æ ¸
- **å†…å­˜**: 8GB
- **ç¡¬ç›˜**: 80GB SSD
- **å¸¦å®½**: 10Mbps
- **ç³»ç»Ÿ**: Ubuntu 22.04 LTS

---

## ğŸ”§ ç¯å¢ƒå‡†å¤‡

### 1. è¿æ¥æœåŠ¡å™¨

```bash
# ä½¿ç”¨SSHè¿æ¥
ssh root@your-server-ip

# æˆ–ä½¿ç”¨å¯†é’¥
ssh -i /path/to/key.pem root@your-server-ip
```

### 2. æ›´æ–°ç³»ç»Ÿ

```bash
# Ubuntu/Debian
sudo apt update && sudo apt upgrade -y

# CentOS/RHEL
sudo yum update -y
```

### 3. å®‰è£…Node.js 18+

```bash
# ä½¿ç”¨NodeSourceå®‰è£…
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# éªŒè¯å®‰è£…
node --version  # åº”è¯¥æ˜¾ç¤º v18.x.x
npm --version
```

### 4. å®‰è£…pnpm

```bash
npm install -g pnpm
pnpm --version
```

### 5. å®‰è£…PostgreSQL

```bash
# Ubuntu/Debian
sudo apt install -y postgresql postgresql-contrib

# å¯åŠ¨æœåŠ¡
sudo systemctl start postgresql
sudo systemctl enable postgresql

# éªŒè¯å®‰è£…
sudo -u postgres psql --version
```

### 6. å®‰è£…Nginx

```bash
# Ubuntu/Debian
sudo apt install -y nginx

# å¯åŠ¨æœåŠ¡
sudo systemctl start nginx
sudo systemctl enable nginx

# éªŒè¯å®‰è£…
nginx -v
```

### 7. å®‰è£…PM2

```bash
npm install -g pm2

# éªŒè¯å®‰è£…
pm2 --version
```

### 8. å®‰è£…Git

```bash
sudo apt install -y git
git --version
```

---

## ğŸ—„ï¸ æ•°æ®åº“é…ç½®

### 1. åˆ›å»ºæ•°æ®åº“ç”¨æˆ·

```bash
# åˆ‡æ¢åˆ°postgresç”¨æˆ·
sudo -u postgres psql

# åœ¨PostgreSQLä¸­æ‰§è¡Œ
CREATE USER rongdian WITH PASSWORD 'your_secure_password';
CREATE DATABASE rongdian_db OWNER rongdian;
GRANT ALL PRIVILEGES ON DATABASE rongdian_db TO rongdian;

# é€€å‡º
\q
```

### 2. é…ç½®PostgreSQLè¿œç¨‹è®¿é—®(å¯é€‰)

```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
sudo nano /etc/postgresql/14/main/postgresql.conf

# ä¿®æ”¹ç›‘å¬åœ°å€
listen_addresses = 'localhost'  # ä»…æœ¬åœ°è®¿é—®(æ¨è)
# æˆ–
listen_addresses = '*'  # å…è®¸è¿œç¨‹è®¿é—®(éœ€è¦é…ç½®é˜²ç«å¢™)

# ç¼–è¾‘è®¿é—®æ§åˆ¶
sudo nano /etc/postgresql/14/main/pg_hba.conf

# æ·»åŠ (å¦‚æœéœ€è¦è¿œç¨‹è®¿é—®)
host    all             all             0.0.0.0/0               md5

# é‡å¯PostgreSQL
sudo systemctl restart postgresql
```

### 3. æµ‹è¯•æ•°æ®åº“è¿æ¥

```bash
psql -h localhost -U rongdian -d rongdian_db
# è¾“å…¥å¯†ç ååº”è¯¥èƒ½è¿æ¥æˆåŠŸ
```

---

## ğŸ”™ åç«¯éƒ¨ç½²

### 1. åˆ›å»ºé¡¹ç›®ç›®å½•

```bash
# åˆ›å»ºåº”ç”¨ç›®å½•
sudo mkdir -p /var/www/rongdian
sudo chown -R $USER:$USER /var/www/rongdian
cd /var/www/rongdian
```

### 2. ä¸Šä¼ ä»£ç 

**æ–¹å¼1: ä½¿ç”¨Git(æ¨è)**
```bash
# å¦‚æœä»£ç åœ¨Gitä»“åº“
git clone https://your-repo-url.git .

# æˆ–è€…åªä¸Šä¼ backendå’Œweb Siteç›®å½•
```

**æ–¹å¼2: ä½¿ç”¨SCPä¸Šä¼ **
```bash
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp -r "c:\Users\13350\Desktop\oai 08\backend" root@your-server-ip:/var/www/rongdian/
scp -r "c:\Users\13350\Desktop\oai 08\web Site" root@your-server-ip:/var/www/rongdian/
```

**æ–¹å¼3: ä½¿ç”¨FTPå·¥å…·**
- ä½¿ç”¨FileZillaæˆ–WinSCPä¸Šä¼ æ–‡ä»¶

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
cd /var/www/rongdian/backend

# åˆ›å»ºç”Ÿäº§ç¯å¢ƒé…ç½®
nano .env
```

**`.env` æ–‡ä»¶å†…å®¹**:
```env
# ç¯å¢ƒ
NODE_ENV=production

# æœåŠ¡å™¨é…ç½®
PORT=3001
HOST=0.0.0.0

# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=5432
DB_NAME=rongdian_db
DB_USER=rongdian
DB_PASSWORD=your_secure_password

# JWTé…ç½®
JWT_SECRET=your_jwt_secret_key_change_this_in_production
JWT_EXPIRES_IN=7d

# é™æµé…ç½®
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=info

# CORSé…ç½®
CORS_ORIGIN=https://your-domain.com
```

### 4. å®‰è£…ä¾èµ–

```bash
cd /var/www/rongdian/backend
pnpm install --prod
```

### 5. è¿è¡Œæ•°æ®åº“è¿ç§»

```bash
# å¦‚æœä½¿ç”¨Sequelize
pnpm db:migrate

# å¦‚æœä½¿ç”¨Prisma
pnpm db:push
# æˆ–
pnpm db:migrate deploy
```

### 6. æµ‹è¯•åç«¯

```bash
# ä¸´æ—¶å¯åŠ¨æµ‹è¯•
NODE_ENV=production node src/app.js

# åº”è¯¥çœ‹åˆ°:
# ğŸš€ æœåŠ¡å™¨è¿è¡Œåœ¨ http://0.0.0.0:3001

# Ctrl+C åœæ­¢
```

---

## ğŸ¨ å‰ç«¯éƒ¨ç½²

### 1. æ„å»ºå‰ç«¯(åœ¨æœ¬åœ°æ‰§è¡Œ)

```bash
# åœ¨æœ¬åœ°é¡¹ç›®ç›®å½•
cd "c:\Users\13350\Desktop\oai 08\admin"

# é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
# ç¼–è¾‘ .env.production
```

**`.env.production` æ–‡ä»¶å†…å®¹**:
```env
# ç”Ÿäº§ç¯å¢ƒå˜é‡
VITE_BASE_URL = /

# API åœ°å€å‰ç¼€(ä½¿ç”¨åŸŸå)
VITE_API_URL = https://your-domain.com/api

# API åŸºç¡€URL
VITE_API_BASE_URL = https://your-domain.com

# Delete console
VITE_DROP_CONSOLE = true
```

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# æ„å»ºå®Œæˆå,distç›®å½•åŒ…å«æ‰€æœ‰é™æ€æ–‡ä»¶
```

### 2. ä¸Šä¼ å‰ç«¯æ–‡ä»¶

```bash
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp -r "c:\Users\13350\Desktop\oai 08\admin\dist" root@your-server-ip:/var/www/rongdian/admin-dist
```

---

## ğŸŒ Nginxé…ç½®

### 1. åˆ›å»ºNginxé…ç½®æ–‡ä»¶

```bash
sudo nano /etc/nginx/sites-available/rongdian
```

**Nginxé…ç½®å†…å®¹**:
```nginx
# åç«¯APIæœåŠ¡å™¨
upstream backend_api {
    server 127.0.0.1:3001;
    keepalive 64;
}

# HTTPæœåŠ¡å™¨(é‡å®šå‘åˆ°HTTPS)
server {
    listen 80;
    listen [::]:80;
    server_name your-domain.com www.your-domain.com;

    # é‡å®šå‘åˆ°HTTPS
    return 301 https://$server_name$request_uri;
}

# HTTPSæœåŠ¡å™¨
server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name your-domain.com www.your-domain.com;

    # SSLè¯ä¹¦é…ç½®(ç¨åé…ç½®)
    # ssl_certificate /etc/nginx/ssl/your-domain.crt;
    # ssl_certificate_key /etc/nginx/ssl/your-domain.key;

    # SSLé…ç½®
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;

    # æ—¥å¿—
    access_log /var/log/nginx/rongdian_access.log;
    error_log /var/log/nginx/rongdian_error.log;

    # å®¢æˆ·ç«¯æœ€å¤§ä¸Šä¼ å¤§å°
    client_max_body_size 20M;

    # åå°ç®¡ç†ç³»ç»Ÿ
    location /admin {
        alias /var/www/rongdian/admin-dist;
        try_files $uri $uri/ /admin/index.html;
        
        # ç¼“å­˜é…ç½®
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
        }
    }

    # APIæ¥å£
    location /api {
        proxy_pass http://backend_api;
        proxy_http_version 1.1;
        
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        proxy_cache_bypass $http_upgrade;
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }

    # é™æ€èµ„æº(äº§å“æ–‡ä»¶)
    location /products {
        alias /var/www/rongdian/backend/public/products;
        expires 30d;
        add_header Cache-Control "public";
    }

    # é™æ€èµ„æº(ä¸Šä¼ æ–‡ä»¶)
    location /uploads {
        alias /var/www/rongdian/backend/public/uploads;
        expires 30d;
        add_header Cache-Control "public";
    }

    # ç½‘ç«™å‰ç«¯(PCç«¯)
    location / {
        root /var/www/rongdian/web Site/web PC;
        try_files $uri $uri/ /index.html;
        
        # ç¼“å­˜é…ç½®
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
        }
    }

    # ç½‘ç«™èµ„æº
    location /assets {
        alias /var/www/rongdian/web Site/web PC/assets;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # Gzipå‹ç¼©
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript application/x-javascript application/xml+rss application/json application/javascript;
}
```

### 2. å¯ç”¨é…ç½®

```bash
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/rongdian /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯Nginx
sudo systemctl restart nginx
```

### 3. é…ç½®é˜²ç«å¢™

```bash
# Ubuntu UFW
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw allow 22/tcp  # SSH
sudo ufw enable

# æˆ–é˜¿é‡Œäº‘å®‰å…¨ç»„
# åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°æ·»åŠ è§„åˆ™:
# - å…¥æ–¹å‘: 80ç«¯å£(HTTP)
# - å…¥æ–¹å‘: 443ç«¯å£(HTTPS)
# - å…¥æ–¹å‘: 22ç«¯å£(SSH)
```

---

## ğŸ” SSLè¯ä¹¦é…ç½®

### æ–¹å¼1: ä½¿ç”¨Let's Encrypt(å…è´¹,æ¨è)

```bash
# å®‰è£…Certbot
sudo apt install -y certbot python3-certbot-nginx

# è·å–è¯ä¹¦
sudo certbot --nginx -d your-domain.com -d www.your-domain.com

# æµ‹è¯•è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run

# Certbotä¼šè‡ªåŠ¨ä¿®æ”¹Nginxé…ç½®å¹¶é‡å¯
```

### æ–¹å¼2: ä½¿ç”¨é˜¿é‡Œäº‘SSLè¯ä¹¦

```bash
# 1. åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°ç”³è¯·å…è´¹SSLè¯ä¹¦
# 2. ä¸‹è½½Nginxæ ¼å¼è¯ä¹¦
# 3. ä¸Šä¼ åˆ°æœåŠ¡å™¨

# åˆ›å»ºSSLç›®å½•
sudo mkdir -p /etc/nginx/ssl

# ä¸Šä¼ è¯ä¹¦æ–‡ä»¶
scp your-domain.crt root@your-server-ip:/etc/nginx/ssl/
scp your-domain.key root@your-server-ip:/etc/nginx/ssl/

# è®¾ç½®æƒé™
sudo chmod 600 /etc/nginx/ssl/your-domain.key

# åœ¨Nginxé…ç½®ä¸­å–æ¶ˆæ³¨é‡ŠSSLè¯ä¹¦è¡Œ
sudo nano /etc/nginx/sites-available/rongdian

# é‡å¯Nginx
sudo systemctl restart nginx
```

---

## ğŸ”„ è¿›ç¨‹ç®¡ç†(PM2)

### 1. åˆ›å»ºPM2é…ç½®æ–‡ä»¶

```bash
cd /var/www/rongdian/backend
nano ecosystem.config.js
```

**`ecosystem.config.js` å†…å®¹**:
```javascript
module.exports = {
  apps: [{
    name: 'rongdian-backend',
    script: 'src/app.js',
    cwd: '/var/www/rongdian/backend',
    instances: 2,  // ä½¿ç”¨2ä¸ªå®ä¾‹(æ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´)
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      PORT: 3001
    },
    error_file: '/var/log/pm2/rongdian-error.log',
    out_file: '/var/log/pm2/rongdian-out.log',
    log_date_format: 'YYYY-MM-DD HH:mm:ss Z',
    merge_logs: true,
    autorestart: true,
    max_restarts: 10,
    min_uptime: '10s',
    max_memory_restart: '500M',
    watch: false
  }]
};
```

### 2. å¯åŠ¨åº”ç”¨

```bash
# åˆ›å»ºæ—¥å¿—ç›®å½•
sudo mkdir -p /var/log/pm2
sudo chown -R $USER:$USER /var/log/pm2

# å¯åŠ¨åº”ç”¨
pm2 start ecosystem.config.js

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs rongdian-backend

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
pm2 show rongdian-backend
```

### 3. è®¾ç½®å¼€æœºè‡ªå¯

```bash
# ç”Ÿæˆå¯åŠ¨è„šæœ¬
pm2 startup

# ä¿å­˜å½“å‰è¿›ç¨‹åˆ—è¡¨
pm2 save

# æµ‹è¯•é‡å¯
sudo reboot
# é‡å¯åæ£€æŸ¥
pm2 status
```

### 4. PM2å¸¸ç”¨å‘½ä»¤

```bash
# é‡å¯åº”ç”¨
pm2 restart rongdian-backend

# åœæ­¢åº”ç”¨
pm2 stop rongdian-backend

# åˆ é™¤åº”ç”¨
pm2 delete rongdian-backend

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
pm2 logs rongdian-backend --lines 100

# æŸ¥çœ‹ç›‘æ§
pm2 monit

# æ¸…ç©ºæ—¥å¿—
pm2 flush
```

---

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### 1. æŸ¥çœ‹åº”ç”¨æ—¥å¿—

```bash
# PM2æ—¥å¿—
pm2 logs rongdian-backend

# Nginxè®¿é—®æ—¥å¿—
sudo tail -f /var/log/nginx/rongdian_access.log

# Nginxé”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/rongdian_error.log

# ç³»ç»Ÿæ—¥å¿—
sudo journalctl -u nginx -f
```

### 2. ç›‘æ§ç³»ç»Ÿèµ„æº

```bash
# æŸ¥çœ‹CPUå’Œå†…å­˜
htop

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h

# æŸ¥çœ‹ç½‘ç»œè¿æ¥
netstat -tulpn | grep LISTEN

# PM2ç›‘æ§
pm2 monit
```

### 3. è®¾ç½®æ—¥å¿—è½®è½¬

```bash
# åˆ›å»ºlogrotateé…ç½®
sudo nano /etc/logrotate.d/rongdian
```

**logrotateé…ç½®**:
```
/var/log/nginx/rongdian_*.log {
    daily
    rotate 14
    compress
    delaycompress
    notifempty
    create 0640 www-data adm
    sharedscripts
    postrotate
        [ -f /var/run/nginx.pid ] && kill -USR1 `cat /var/run/nginx.pid`
    endscript
}

/var/log/pm2/*.log {
    daily
    rotate 7
    compress
    delaycompress
    notifempty
    missingok
}
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### 1. åç«¯æ— æ³•å¯åŠ¨

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tulpn | grep 3001

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
psql -h localhost -U rongdian -d rongdian_db

# æŸ¥çœ‹PM2æ—¥å¿—
pm2 logs rongdian-backend --err

# æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•
cd /var/www/rongdian/backend
NODE_ENV=production node src/app.js
```

### 2. Nginx 502é”™è¯¯

```bash
# æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ
pm2 status

# æ£€æŸ¥Nginxé”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/rongdian_error.log

# æµ‹è¯•Nginxé…ç½®
sudo nginx -t

# é‡å¯Nginx
sudo systemctl restart nginx
```

### 3. é™æ€æ–‡ä»¶404

```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la /var/www/rongdian/

# æ£€æŸ¥Nginxé…ç½®ä¸­çš„è·¯å¾„
sudo nano /etc/nginx/sites-available/rongdian

# æµ‹è¯•æ–‡ä»¶è®¿é—®
curl http://localhost/assets/css/Main\ File.css
```

### 4. æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥PostgreSQLçŠ¶æ€
sudo systemctl status postgresql

# æ£€æŸ¥æ•°æ®åº“æ˜¯å¦å­˜åœ¨
sudo -u postgres psql -l

# æµ‹è¯•è¿æ¥
psql -h localhost -U rongdian -d rongdian_db

# æŸ¥çœ‹PostgreSQLæ—¥å¿—
sudo tail -f /var/log/postgresql/postgresql-14-main.log
```

---

## ğŸš€ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰
- [ ] ä»£ç å·²æäº¤åˆ°Gitä»“åº“
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] æ•°æ®åº“å¤‡ä»½å·²å®Œæˆ
- [ ] SSLè¯ä¹¦å·²å‡†å¤‡

### éƒ¨ç½²ä¸­
- [ ] æœåŠ¡å™¨ç¯å¢ƒå·²å®‰è£…
- [ ] æ•°æ®åº“å·²åˆ›å»ºå’Œé…ç½®
- [ ] ä»£ç å·²ä¸Šä¼ 
- [ ] ä¾èµ–å·²å®‰è£…
- [ ] æ•°æ®åº“è¿ç§»å·²è¿è¡Œ
- [ ] Nginxå·²é…ç½®
- [ ] SSLè¯ä¹¦å·²å®‰è£…
- [ ] PM2å·²é…ç½®
- [ ] é˜²ç«å¢™è§„åˆ™å·²è®¾ç½®

### éƒ¨ç½²å
- [ ] ç½‘ç«™å¯ä»¥è®¿é—®
- [ ] HTTPSæ­£å¸¸å·¥ä½œ
- [ ] APIæ¥å£æ­£å¸¸
- [ ] åå°ç®¡ç†ç³»ç»Ÿå¯è®¿é—®
- [ ] äº§å“è¯¦æƒ…é¡µæ­£å¸¸æ˜¾ç¤º
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½æ­£å¸¸
- [ ] æ—¥å¿—æ­£å¸¸è®°å½•
- [ ] PM2è‡ªå¯åŠ¨å·²é…ç½®
- [ ] ç›‘æ§å·²è®¾ç½®

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# é‡å¯æ‰€æœ‰æœåŠ¡
pm2 restart all
sudo systemctl restart nginx

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 status
sudo systemctl status nginx
sudo systemctl status postgresql

# æŸ¥çœ‹æ—¥å¿—
pm2 logs
sudo tail -f /var/log/nginx/error.log

# æ›´æ–°ä»£ç 
cd /var/www/rongdian/backend
git pull
pnpm install
pm2 restart rongdian-backend
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **å¯ç”¨Gzipå‹ç¼©** âœ… å·²é…ç½®
2. **é…ç½®é™æ€èµ„æºç¼“å­˜** âœ… å·²é…ç½®
3. **ä½¿ç”¨CDNåŠ é€Ÿé™æ€èµ„æº**
4. **æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–**
5. **å¯ç”¨Redisç¼“å­˜**
6. **é…ç½®è´Ÿè½½å‡è¡¡**(å¤šæœåŠ¡å™¨)

---

**éƒ¨ç½²å®Œæˆå,è®°å¾—æµ‹è¯•æ‰€æœ‰åŠŸèƒ½!** ğŸ‰
